{"version":3,"file":"static/js/544.c68da4dd.chunk.js","mappings":"0NAGaA,EAAkBC,EAAAA,EAAAA,GAAH,mFAMfC,GAAgBD,EAAAA,EAAAA,GAAOE,EAAAA,GAAPF,CAAH,wDAKbG,EAAMH,EAAAA,EAAAA,IAAH,yCAIHI,EAAYJ,EAAAA,EAAAA,IAAH,mF,SCTP,SAASK,EAAT,GAAgC,IAAXC,EAAU,EAAVA,OAC5BC,GAAWC,EAAAA,EAAAA,MAEjB,OACE,SAACT,EAAD,UACGO,EAAOG,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAOC,EAAd,EAAcA,YAAaC,EAA3B,EAA2BA,aAAcC,EAAzC,EAAyCA,SAAzC,OACV,yBACE,UAACb,EAAD,CAAec,GAAE,kBAAaL,GAAMM,MAAO,CAAEC,KAAMV,GAAnD,WACE,SAACJ,EAAD,CACEe,IAAG,yCAAoCN,GACvCO,IAAG,UAAKR,MAEV,UAACP,EAAD,YACE,wBAAKO,KACL,uBAAIG,KACJ,uBAAID,WATDH,EADC,KAiBjB,C,uBC/BM,SAASU,EAAgBd,GAC9B,OAAOA,EAAOG,KACZ,gBAAGC,EAAH,EAAGA,GAAIE,EAAP,EAAOA,YAAaD,EAApB,EAAoBA,MAAOU,EAA3B,EAA2BA,QAASR,EAApC,EAAoCA,aAApC,MAAkE,CAChEH,GAAAA,EACAC,MAAAA,EACAU,QAAAA,EACAT,YAAAA,EACAE,SALF,EAAkDA,SAMhDD,aAAcA,EAAaS,QAAQ,GANrC,GASH,CAEM,SAASC,EAAT,GAQH,IAPFb,EAOC,EAPDA,GACAE,EAMC,EANDA,YACAD,EAKC,EALDA,MACAU,EAIC,EAJDA,QACAR,EAGC,EAHDA,aACAC,EAEC,EAFDA,SACAU,EACC,EADDA,OAEA,MAAO,CACLd,GAAAA,EACAC,MAAAA,EACAU,QAAAA,EACAT,YAAAA,EACAE,SAAAA,EACAD,aAAcA,EAAaS,QAAQ,GACnCE,OAAQA,EAAOf,KAAI,qBAAGgB,IAAH,IAEtB,C,sNCzBc,SAASC,IACtB,OAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOrB,EAAP,KAAesB,EAAf,KAuBA,OArBAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAW,mCAAG,+GAEOC,EAAAA,KAFP,OAEVC,EAFU,OAIVC,GAAmBb,EAAAA,EAAAA,GAAgBY,EAASE,KAAKC,SACvDP,EAAUK,GALM,gDAOhBG,QAAQC,IAAR,MAPgB,yDAAH,qDAWjBP,GAMD,GAAE,KAID,2BACE,SAAC,IAAD,CAAWxB,OAAQA,KAGxB,C,sKClCUgC,EAAa,IAAIC,gBAa5B,SAASC,IACP,OAAOC,EAAAA,EAAAA,IAAU,qBAAsB,CACrCC,OAAQJ,EAAWI,QAEtB,CAED,SAASC,EAAaC,GAAkB,IAAXC,EAAU,uDAAH,EAClC,OAAOJ,EAAAA,EAAAA,IAAA,6BAAgCG,EAAhC,iBAA8CC,GACtD,CAED,SAASC,EAAgBC,GACvB,OAAON,EAAAA,EAAAA,IAAA,gBAAmBM,GAC3B,CAED,SAASC,EAAgBD,GACvB,OAAON,EAAAA,EAAAA,IAAA,gBAAmBM,EAAnB,YACR,CAED,SAASE,EAAgBF,GACvB,OAAON,EAAAA,EAAAA,IAAA,gBAAmBM,EAAnB,YACR,CA5BDN,EAAAA,EAAAA,SAAAA,QAAyB,gCACzBA,EAAAA,EAAAA,SAAAA,QAAAA,OAAAA,cAHE,6NAIFA,EAAAA,EAAAA,SAAAA,OAAwB,CACtBS,SAAU,QACVC,QAAS,kBACTC,eAAe,E","sources":["components/MovieList/MovieList.styled.js","components/MovieList/MovieList.jsx","helpers/normalizeMovies.js","pages/Home/Home.jsx","services/movie-api.js"],"sourcesContent":["import styled from '@emotion/styled';\nimport { Link } from 'react-router-dom';\n\nexport const MovieListStyled = styled.ul`\n  display: flex;\n  flex-direction: column;\n  gap: 12px;\n`;\n\nexport const MovieListLink = styled(Link)`\n  display: flex;\n  gap: 12px;\n`;\n\nexport const Img = styled.img`\n  width: 185px;\n`;\n\nexport const MovieInfo = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n`;\n","import PropTypes from 'prop-types';\nimport { useLocation } from 'react-router-dom';\nimport {\n  MovieListStyled,\n  MovieListLink,\n  Img,\n  MovieInfo,\n} from './MovieList.styled';\n\nexport default function MovieList({ movies }) {\n  const location = useLocation();\n\n  return (\n    <MovieListStyled>\n      {movies.map(({ id, title, poster_path, vote_average, overview }) => (\n        <li key={id}>\n          <MovieListLink to={`/movies/${id}`} state={{ from: location }}>\n            <Img\n              src={`https://image.tmdb.org/t/p/w154${poster_path}`}\n              alt={`${title}`}\n            />\n            <MovieInfo>\n              <h3>{title}</h3>\n              <p>{overview}</p>\n              <p>{vote_average}</p>\n            </MovieInfo>\n          </MovieListLink>\n        </li>\n      ))}\n    </MovieListStyled>\n  );\n}\n\nMovieList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n      poster_path: PropTypes.string,\n      vote_average: PropTypes.string,\n    }).isRequired\n  ).isRequired,\n};\n","export function normalizeMovies(movies) {\n  return movies.map(\n    ({ id, poster_path, title, tagline, vote_average, overview }) => ({\n      id,\n      title,\n      tagline,\n      poster_path,\n      overview,\n      vote_average: vote_average.toFixed(1),\n    })\n  );\n}\n\nexport function normalizeSingleMovie({\n  id,\n  poster_path,\n  title,\n  tagline,\n  vote_average,\n  overview,\n  genres,\n}) {\n  return {\n    id,\n    title,\n    tagline,\n    poster_path,\n    overview,\n    vote_average: vote_average.toFixed(1),\n    genres: genres.map(({ name }) => name),\n  };\n}\n","import MovieList from 'components/MovieList/MovieList';\nimport { normalizeMovies } from 'helpers/normalizeMovies';\nimport { useEffect, useState } from 'react';\nimport * as movieAPI from 'services/movie-api';\n// import { controller } from 'services/movie-api';\n\nexport default function Home() {\n  const [movies, setMovies] = useState([]);\n\n  useEffect(() => {\n    const fetchMovies = async () => {\n      try {\n        const response = await movieAPI.getTrendingMovies();\n\n        const normalizedMovies = normalizeMovies(response.data.results);\n        setMovies(normalizedMovies);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n\n    fetchMovies();\n\n    // return () => {\n    //   console.log('Unmount');\n    //   controller.abort();\n    // };\n  }, []);\n  // console.log(movies);\n\n  return (\n    <main>\n      <MovieList movies={movies} />\n    </main>\n  );\n}\n","import axios from 'axios';\nexport let controller = new AbortController();\n\nconst API_KEY =\n  'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI1MDllNDQ3NzZkODk4M2I4MjUxZGIyM2UwYTBkMDc2NCIsInN1YiI6IjY0OTk0ZWIxNmY0M2VjMDEzOTliMDJmMSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.zfMWjVI_xe7Qrg38kb3t2TBDdyF9nQKUMfvJwYSbESc';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\naxios.defaults.headers.common['Authorization'] = API_KEY;\naxios.defaults.params = {\n  language: 'en-US',\n  sort_by: 'popularity.desc',\n  include_adult: false,\n};\n\nfunction getTrendingMovies() {\n  return axios.get('trending/movie/day', {\n    signal: controller.signal,\n  });\n}\n\nfunction searchMovies(query, page = 1) {\n  return axios.get(`search/movie?query=${query}&page=${page}`);\n}\n\nfunction getMovieDetails(movieId) {\n  return axios.get(`movie/${movieId}`);\n}\n\nfunction getMovieCredits(movieId) {\n  return axios.get(`movie/${movieId}/credits`);\n}\n\nfunction getMovieReviews(movieId) {\n  return axios.get(`movie/${movieId}/reviews`);\n}\n\nexport {\n  getTrendingMovies,\n  searchMovies,\n  getMovieDetails,\n  getMovieCredits,\n  getMovieReviews,\n};\n"],"names":["MovieListStyled","styled","MovieListLink","Link","Img","MovieInfo","MovieList","movies","location","useLocation","map","id","title","poster_path","vote_average","overview","to","state","from","src","alt","normalizeMovies","tagline","toFixed","normalizeSingleMovie","genres","name","Home","useState","setMovies","useEffect","fetchMovies","movieAPI","response","normalizedMovies","data","results","console","log","controller","AbortController","getTrendingMovies","axios","signal","searchMovies","query","page","getMovieDetails","movieId","getMovieCredits","getMovieReviews","language","sort_by","include_adult"],"sourceRoot":""}